<div id="topBar" class="top-bar">
  <div class="top-bar-left">
    <span id="welcomeText">
      <i class='bx bx-smile'></i> Welcome back, 
      <span id="userName">User</span>!
    </span>
    <span id="userRole" class="role-badge">
      <i class='bx bx-user'></i> Customer
    </span>
  </div>
  <div class="top-bar-right">
    <span id="welcomeDate">
      <i class='bx bx-calendar'></i> Loading...
    </span>
  </div>
</div>
<!-- ⬆ Upper Half: Account Cards + Insights -->
<section class="dashboard-upper">
  <!-- Left: My Accounts -->
  <div class="dashboard-left">
    <h3 class="section-title"><i class='bx bx-wallet-alt'></i> My Accounts</h3>
    <div class="account-card-container" id="accountCardContainer">
      <!-- Account cards will be inserted here via JS -->
    </div>
  </div>

  <!-- Right: Dashboard Insights -->
  <!-- Right: Dashboard Insights -->
<div class="dashboard-right">
  <h3 class="section-title"><i class='bx bx-bar-chart-alt-2'></i> Insights</h3>
  
  <div id="insightsContainer">
    <div>
      <label for="accountSelect"><strong>Select Account:</strong></label>
      <select id="accountSelect">
        <option value="ALL">All Accounts</option>
        <!-- Account options will be dynamically injected here -->
      </select>
    </div>
    <div id="totalBalance">
      <p><strong>Total Balance:</strong></p>
    </div>
    <div id="thisMonthCredits">
      <p><strong>This Month's Credits:</strong></p>
    </div>
    <div id="thisMonthDebits">
      <p><strong>This Month's Debits:</strong></p>
    </div>
    <div id="pieChartContainer" style="width: 100%; height: 300px;">
      <!-- Pie Chart will be rendered here -->
      <canvas id="insightChart"></canvas>
    </div>
  </div>
</div>

</section>

<!-- ⬇ Lower Half: Recent Transactions -->
<section class="dashboard-lower">
  <div class="transaction-preview">
    <h3><i class='bx bx-history'></i> Recent Transactions</h3>
    
    <div class="txn-table-scroll">
      <table>
        <thead>
          <tr>
            <th><i class='bx bx-credit-card'></i> Account</th>
            <th><i class='bx bx-calendar'></i> Date</th>
            <th><i class='bx bx-transfer-alt'></i> Type</th>
            <th><i class='bx bx-rupee'></i> Amount</th>
            <th><i class='bx bx-link-alt'></i> Transaction Account</th>
          </tr>
        </thead>
        <tbody id="recentTxnBody">
          <!-- Transaction rows will be populated by JS -->
        </tbody>
      </table>
    </div>


  
  </div>
</section>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<!-- JS for Welcome Text -->
<script>
  document.getElementById("userName") &&
    (document.getElementById("userName").innerText = user.name);

  document.getElementById("welcomeDate") &&
    (document.getElementById("welcomeDate").innerText = new Date().toLocaleDateString("en-IN", {
      weekday: "short",
      day: "numeric",
      month: "short",
      year: "numeric"
    }));
</script>
